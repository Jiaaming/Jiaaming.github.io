<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>åŸºäºVue-Springbootçš„è®ºæ–‡ç®¡ç†ç³»ç»Ÿ | Jiaming</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="ECNU database term project">
    <meta name="generator" content="Hugo 0.101.0" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    
    
    
      

    

    
    
    <meta property="og:title" content="åŸºäºVue-Springbootçš„è®ºæ–‡ç®¡ç†ç³»ç»Ÿ" />
<meta property="og:description" content="ECNU database term project" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://Jiaaming.github.io/post/chapter-6/" /><meta property="article:section" content="post" />

<meta property="og:site_name" content="Jiaming" />

<meta itemprop="name" content="åŸºäºVue-Springbootçš„è®ºæ–‡ç®¡ç†ç³»ç»Ÿ">
<meta itemprop="description" content="ECNU database term project">

<meta itemprop="wordCount" content="380">
<meta itemprop="keywords" content="æŠ€æœ¯," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="åŸºäºVue-Springbootçš„è®ºæ–‡ç®¡ç†ç³»ç»Ÿ"/>
<meta name="twitter:description" content="ECNU database term project"/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Jiaming
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/about/" title="  About me page">
                About me
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/post/" title="Articles page">
              Articles
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/contact/" title="Contact page">
              Contact
            </a>
          </li>
          
        </ul>
      
      
<div class="ananke-socials">
  
    <a href="https://running.jiaaming.cn" target="_blank" class="RunningğŸƒPage ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="RunningğŸƒPage link" rel="noopener" aria-label="follow on RunningğŸƒPageâ€”â€”Opens in a new window">
      
        RunningğŸƒPage
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        ARTICLES
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
  </div>


      <h1 class="f1 athelas mt3 mb1">åŸºäºVue-Springbootçš„è®ºæ–‡ç®¡ç†ç³»ç»Ÿ</h1>
      
      
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><h1 id="ecnuæ•°æ®åº“ç³»ç»Ÿè®¾è®¡å¤§ä½œä¸š-åŸºäºvue-springbootçš„è®ºæ–‡ç®¡ç†ç³»ç»Ÿ">ECNUæ•°æ®åº“ç³»ç»Ÿè®¾è®¡å¤§ä½œä¸š-åŸºäºVue-Springbootçš„è®ºæ–‡ç®¡ç†ç³»ç»Ÿ</h1>
<p>æ¼”ç¤ºåœ°å€ï¼š</p>
<p><a href="https://www.bilibili.com/video/BV1dr4y1u7Vq/?spm_id_from=333.999.0.0">ECNU-2022Spring-DatabaseTermProjectç¬¬å››ç»„_å“”å“©å“”å“©_bilibili</a></p>
<h3 id="å…³äºç™»å½•ä¿¡æ¯æƒé™æ˜¾ç¤º">å…³äºç™»å½•ä¿¡æ¯ã€æƒé™æ˜¾ç¤º</h3>
<p>è¿™é‡Œåˆ©ç”¨sessionStorageå°†ç”¨æˆ·çš„ä¿¡æ¯è·Ÿæƒé™ï¼ˆç†è®ºä¸Šåº”è¯¥ä¸€èµ·ä½œä¸ºuserä¿¡æ¯è¿”å›çš„ï¼Œè¿™é‡Œåˆ†å¼€å­˜å‚¨ã€‚åç»­é¡µé¢å·¦ä¾§Asideçš„è®¿é—®ä¹Ÿå¯ä»¥æ ¹æ®å­˜å‚¨çš„sessionStorageè§£å†³ã€‚</p>
<blockquote>
<p>*sessionStorage å±æ€§å…è®¸ä½ è®¿é—®ä¸€ä¸ª session Storage å¯¹è±¡ã€‚å®ƒä¸ localStorage ç›¸ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äº localStorage é‡Œé¢å­˜å‚¨çš„æ•°æ®æ²¡æœ‰è¿‡æœŸæ—¶é—´è®¾ç½®ï¼Œè€Œå­˜å‚¨åœ¨ sessionStorage é‡Œé¢çš„æ•°æ®åœ¨é¡µé¢ä¼šè¯ç»“æŸæ—¶ä¼šè¢«æ¸…é™¤ã€‚é¡µé¢ä¼šè¯åœ¨æµè§ˆå™¨æ‰“å¼€æœŸé—´ä¸€ç›´ä¿æŒï¼Œå¹¶ä¸”é‡æ–°åŠ è½½æˆ–æ¢å¤é¡µé¢ä»ä¼šä¿æŒåŸæ¥çš„é¡µé¢ä¼šè¯ã€‚**åœ¨æ–°æ ‡ç­¾æˆ–çª—å£æ‰“å¼€ä¸€ä¸ªé¡µé¢æ—¶ä¼šåœ¨é¡¶çº§æµè§ˆä¸Šä¸‹æ–‡ä¸­åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ä¼šè¯ï¼Œ*<em>è¿™ç‚¹å’Œ session cookies çš„è¿è¡Œæ–¹å¼ä¸åŒã€‚</em></p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">post</span>(<span style="color:#e6db74">&#34;/api/login&#34;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">form</span>).<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">res</span> =&gt; {
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">res</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">code</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#ae81ff">3333</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>({
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;success&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;ç™»å½•æˆåŠŸ&#34;</span>
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">setItem</span>(<span style="color:#e6db74">&#34;user&#34;</span>,<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>))  <span style="color:#75715e">// ç¼“å­˜ç”¨æˆ·ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">post</span>(<span style="color:#e6db74">&#34;/api/permission?user_id=&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">user_id</span>).<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">res1</span> =&gt; {
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">res1</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;permission Get&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">setItem</span>(<span style="color:#e6db74">&#34;userPermission&#34;</span>,<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">res1</span>))  <span style="color:#75715e">// ç¼“å­˜ç”¨æˆ·ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">userStrr</span> <span style="color:#f92672">=</span><span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#34;userPermission&#34;</span>) <span style="color:#f92672">||</span> <span style="color:#e6db74">&#34;{}&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">permissionList</span> <span style="color:#f92672">=</span><span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">userStrr</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">activeRouter</span>()
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$router</span>.<span style="color:#a6e22e">push</span>(<span style="color:#e6db74">&#34;/&#34;</span>)  <span style="color:#75715e">//ç™»å½•æˆåŠŸä¹‹åè¿›è¡Œé¡µé¢çš„è·³è½¬ï¼Œè·³è½¬åˆ°ä¸»é¡µ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ç™»å½•æˆåŠŸçš„æ—¶å€™æ›´æ–°å½“å‰è·¯ç”±
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//activeRouter()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>  } <span style="color:#66d9ef">else</span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$message</span>({
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;error&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">msg</span>
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><h3 id="å…³äºè·¯ç”±é…ç½®">å…³äºè·¯ç”±é…ç½®</h3>
<p>éœ€è¦é¿å…ä»»ä½•ç”¨æˆ·éƒ½èƒ½é€šè¿‡æ”¹urlçš„æ–¹å¼è®¿é—®å¯¹åº”é¡µé¢ï¼Œå› æ­¤è€ƒè™‘å¦‚æœæ­¤ç”¨æˆ·æ²¡æœ‰è®¿é—®è¯¥é¡µé¢çš„æƒé™ï¼Œä¾¿ä¸è¿›è¡Œè·¯ç”±åŠ è½½ã€‚é‡‡å–å¾ªç¯çš„æ–¹å¼è¿›è¡Œè·¯ç”±æ³¨å†Œã€‚ï¼ˆaddRouteï¼‰</p>
<p>åŒæ—¶é‡‡ç”¨foreachçš„æ–¹å¼è¿›è¡Œæƒé™æ§åˆ¶ã€‚</p>
<p>éå¸¸ç®€æ´çš„å†™æ³•</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">activeRouter</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">userStr</span> <span style="color:#f92672">=</span><span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#34;userPermission&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">userStr</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">userPermission</span> <span style="color:#f92672">=</span><span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">userStr</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">root</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Layout&#39;</span>,
</span></span><span style="display:flex;"><span>						<span style="color:#a6e22e">component</span><span style="color:#f92672">:</span><span style="color:#a6e22e">Layout</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">redirect</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;/home&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">children</span><span style="color:#f92672">:</span> []
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">userPermission</span>.<span style="color:#a6e22e">forEach</span>(<span style="color:#a6e22e">p</span> =&gt; {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">obj</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">path</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">name</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">component</span><span style="color:#f92672">:</span> () =&gt; <span style="color:#66d9ef">import</span>(<span style="color:#e6db74">&#34;@/views/&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">name</span>)
</span></span><span style="display:flex;"><span>            };
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">root</span>.<span style="color:#a6e22e">children</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">obj</span>)
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">router</span>) {
</span></span><span style="display:flex;"><span>					<span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">addRoute</span>(<span style="color:#a6e22e">root</span>)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">beforeEach</span>((<span style="color:#a6e22e">to</span>, <span style="color:#a6e22e">from</span>, <span style="color:#a6e22e">next</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">path</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;/login&#39;</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">path</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;/register&#39;</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">next</span>()
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">userPermission</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#34;userPermission&#34;</span>) <span style="color:#f92672">?</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">sessionStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#34;userPermission&#34;</span>)) <span style="color:#f92672">:</span> {}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">userPermission</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span><span style="color:#a6e22e">userPermission</span>.<span style="color:#a6e22e">length</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">next</span>(<span style="color:#e6db74">&#39;/login&#39;</span>)
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">userPermission</span>.<span style="color:#a6e22e">find</span>(<span style="color:#a6e22e">p</span> =&gt; <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">path</span> <span style="color:#f92672">===</span> <span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">path</span>)) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">next</span>(<span style="color:#e6db74">&#39;/login&#39;</span>)
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">next</span>()
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><h2 id="å…³äºå‰ç«¯åˆ†é¡µ">å…³äºå‰ç«¯åˆ†é¡µ</h2>
<p>è¿™é‡Œåˆ©ç”¨äº†elementUiï¼Œå› æ­¤åˆ†é¡µæ“ä½œéå¸¸ç®€æ´ï¼Œåªéœ€è¦ä¿®æ”¹ï¼šdataå–å€¼ï¼Œåˆ©ç”¨jsçš„sliceå‡½æ•°ã€‚ï¼ˆä¹‹å‰å‚»ä¹ä¹å†™äº†ä¸€å †..)ã€‚</p>
<p>ï¼ˆä¸å»ºè®®å‰ç«¯åˆ†é¡µã€‚æ²¡æœ‰æ„ä¹‰ã€‚ï¼‰</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span>&lt;<span style="color:#f92672">el</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">table</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">v</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">loading</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;loading&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">:</span><span style="color:#a6e22e">data</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;tableData.slice((currentPage-1)*pageSize,currentPage*pageSize)&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">border</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">stripe</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;width: 100%&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">el</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">table</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">column</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">prop</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;user_id&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">label</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ID&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">sortable</span>
</span></span><span style="display:flex;"><span>  &gt;
</span></span></code></pre></div><h2 id="å…³äºæ¸…ç©ºè¡¨å•">å…³äºæ¸…ç©ºè¡¨å•</h2>
<p>ç®€ä¾¿å†™æ³•ï¼Œæ¸…ç©ºthis.form</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">form</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">brand_right</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>}
</span></span></code></pre></div><h2 id="å…³äºè¯„è®ºåŠ è½½">å…³äºè¯„è®ºåŠ è½½</h2>
<p>åœ¨è¯„è®ºåæŒ‰å‘è¡¨å›å¤æ—¶éœ€è¦é¡µé¢å®æ—¶åˆ·æ–°ï¼Œä½†æ˜¯åˆä¸èƒ½é‡‡ç”¨ç›´æ¥åˆ·æ–°æ•´ä¸ªé¡µé¢çš„æ–¹å¼ï¼Œæ‰¾åˆ°äº†è¿™æ ·ä¸€ç§å¾ˆå·§å¦™çš„å†™æ³•</p>
<p>é¦–å…ˆåœ¨app.vueé‡Œæ³¨å†Œreloadæ–¹æ³•</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span>&lt;<span style="color:#f92672">template</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;app&#34;</span> <span style="color:#a6e22e">class </span><span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;body&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">el</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">config</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">provider</span> <span style="color:#960050;background-color:#1e0010">:</span><span style="color:#a6e22e">locale</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;locale&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">router</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">view</span> <span style="color:#a6e22e">v</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;isRouterAlive&#34;</span>&gt;<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/router-view&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/el-config-provider&gt;</span>
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">template</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;App&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">provide</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">reload</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">reload</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">components</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">ElConfigProvider</span>.<span style="color:#a6e22e">name</span>]<span style="color:#f92672">:</span><span style="color:#a6e22e">ElConfigProvider</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">data</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">isRouterAlive</span><span style="color:#f92672">:</span><span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">locale</span><span style="color:#f92672">:</span><span style="color:#a6e22e">zhCn</span>,
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">reload</span>(){
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">isRouterAlive</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$nextTick</span>(<span style="color:#66d9ef">function</span> (){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">isRouterAlive</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>      })
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>åœ¨éœ€è¦ç”¨åˆ°çš„åœ°æ–¹å¼•å…¥injectï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;Comment&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">props</span><span style="color:#f92672">:</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">paperid</span><span style="color:#f92672">:</span> Number
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">inject</span><span style="color:#f92672">:</span>[<span style="color:#e6db74">&#39;reload&#39;</span>]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="å…³äºvuex">å…³äºVuex:</h2>
<p>ä»€ä¹ˆæ—¶å€™ç”¨vuexï¼Ÿ</p>
<blockquote>
<p>Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„<strong>çŠ¶æ€ç®¡ç†æ¨¡å¼ + åº“</strong>ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚</p>
</blockquote>
<p>è¯´ç™½äº†å°±æ˜¯ç®¡ç†ç»„ä»¶é—´é€šä¿¡ï¼Œå¯ä»¥æŠŠä¿¡æ¯å…¨å±€å­˜å‚¨ï¼Œä¸ç”¨åœ¨ä¸¤ä¸ªç»„ä»¶é—´ä¼ æ¥ä¼ å»ã€‚</p>
<p>ç”¨ç™»å½•ï¼Œè®°å½•ç”¨æˆ·ç›¸å…³ä¿¡æ¯åšæ¼”ç¤ºï¼ˆå…¶å®è¿™ä¸ªåœºæ™¯å¹¶ä¸é€‚ç”¨ï¼Œå› ä¸ºvuexæ˜¯å“åº”å¼çš„ï¼Œåˆ·æ–°ä¸€ä¸‹å°±æ²¡äº†ã€‚å°è¯•çš„æ—¶å€™æ²¡å¤ªæ„è¯†åˆ°ï¼‰</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">createStore</span>({
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">state</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">user</span><span style="color:#f92672">:</span> {}
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">mutations</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">SET_USER</span>(<span style="color:#a6e22e">state</span>, <span style="color:#a6e22e">user</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">user</span>
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;set_user in mutation:&#34;</span>)
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">user</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">actions</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">SET_USER</span>(<span style="color:#a6e22e">context</span>,<span style="color:#a6e22e">user</span>) {
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;set_user in actions:&#34;</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">commit</span>(<span style="color:#e6db74">&#39;SET_USER&#39;</span>,<span style="color:#a6e22e">user</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">getters</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">getUser</span>(<span style="color:#a6e22e">state</span>){
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">user</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printUsername</span>(<span style="color:#a6e22e">state</span>){
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;print through getters&#34;</span>)
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">username</span>)
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><p>ç”¨stateå­˜å‚¨çŠ¶æ€</p>
<p>ç™»å½•æ—¶è§¦å‘ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$store</span>.<span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$store</span>.<span style="color:#a6e22e">commit</span>(<span style="color:#e6db74">&#39;SET_USER&#39;</span>,<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$store</span>.<span style="color:#a6e22e">dispatch</span>(<span style="color:#e6db74">&#39;SET_USER&#39;</span>,<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>)
</span></span></code></pre></div><p>ç¬¬ä¸€è¡Œç›´æ¥èµ‹å€¼ï¼Œç¬¬äºŒè¡Œé‡‡ç”¨å‡½æ•°è°ƒç”¨mutationæ–¹æ³•ã€‚ç¬¬ä¸‰è¡Œè°ƒç”¨gettersæ–¹æ³•ï¼ˆmutationçš„å¼‚æ­¥ï¼‰</p>
<p>å¯¹æ¯”æœ¬åœ°å­˜å‚¨å’Œä¼šè¯å­˜å‚¨ï¼š</p>
<p>1.åŒºåˆ«ï¼švuexå­˜å‚¨åœ¨å†…å­˜ï¼Œlocalstorageï¼ˆæœ¬åœ°å­˜å‚¨ï¼‰åˆ™ä»¥æ–‡ä»¶çš„æ–¹å¼å­˜å‚¨åœ¨æœ¬åœ°,æ°¸ä¹…ä¿å­˜ï¼ˆä¸ä¸»åŠ¨åˆ é™¤ï¼Œåˆ™ä¸€ç›´å­˜åœ¨ï¼‰ï¼›sessionstorage( ä¼šè¯å­˜å‚¨ ) ,ä¸´æ—¶ä¿å­˜ã€‚localStorageå’ŒsessionStorageåªèƒ½å­˜å‚¨å­—ç¬¦ä¸²ç±»å‹ï¼Œå¯¹äºå¤æ‚çš„å¯¹è±¡å¯ä»¥ä½¿ç”¨ECMAScriptæä¾›çš„JSONå¯¹è±¡çš„stringifyå’Œparseæ¥å¤„ç†</p>
<p>2.åº”ç”¨åœºæ™¯ï¼švuex(å“åº”å¼çš„)ç”¨äºç»„ä»¶ä¹‹é—´çš„ä¼ å€¼ï¼Œlocalstorageï¼Œsessionstorageåˆ™ä¸»è¦ç”¨äºä¸åŒé¡µé¢ä¹‹é—´çš„ä¼ å€¼ã€‚ï¼ˆéå“åº”å¼çš„ï¼Œé¡µé¢åˆ·æ–°æ‰ä¼šæ›´æ–°ï¼‰</p>
<p>3.æ°¸ä¹…æ€§ï¼šå½“åˆ·æ–°é¡µé¢ï¼ˆè¿™é‡Œçš„åˆ·æ–°é¡µé¢æŒ‡çš„æ˜¯ &ndash;&gt; F5åˆ·æ–°,å±äºæ¸…é™¤å†…å­˜äº†ï¼‰æ—¶vuexå­˜å‚¨çš„å€¼ä¼šä¸¢å¤±ã€‚localstorageã€sessionstorageï¼Œä¸å—é¡µé¢åˆ·æ–°å½±å“è€Œå­˜å‚¨æ•°æ®çš„ä¿©ç§æ–¹å¼ã€‚sessionstorageé¡µé¢å…³é—­åå°±æ¸…é™¤æ‰äº†ï¼Œlocalstorageä¸ä¼šã€‚</p>
<h3 id="jsonä¸å­—ç¬¦ä¸²çš„ç›¸å…³å¤„ç†">JSONä¸å­—ç¬¦ä¸²çš„ç›¸å…³å¤„ç†ï¼š</h3>
<p>JSON æ˜¯åºåˆ—åŒ–çš„å¯¹è±¡æˆ–æ•°ç»„ï¼Œå®ƒæ˜¯ JS å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºæ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒJSONæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚JSONä»¥é”®å€¼å¯¹ (key, value) çš„å½¢å¼å­˜åœ¨ï¼Œå…¶ä¸­ï¼š</p>
<p>JSONçš„ key å¿…é¡»ç”¨ &quot;&quot; (åŒå¼•å·)åŒ…èµ·æ¥
JSONçš„ value ä¸å¯ä»¥ä¸º function/undifined/NaN
æ•°æ®ç»“å°¾ä¸å…è®¸å‡ºç°æ— æ„ä¹‰çš„ ,
JS å¯¹è±¡</p>
<p>å¯¹æ¯”è€Œè¨€ï¼ŒJSå¯¹è±¡æ²¡æœ‰ä»¥ä¸Šä¸‰æ¡ï¼Œä¹Ÿæ˜¯ä¸ JSON æœ€å¤§çš„ä¸åŒã€‚</p>
<p>JSON ä¸ JS å¯¹è±¡çš„è½¬æ¢</p>
<p>ä» JSON è½¬ä¸º JS å¯¹è±¡ï¼šä½¿ç”¨ JSON.parse() æ–¹æ³•
ä» JS å¯¹è±¡è½¬ä¸º JSONï¼šä½¿ç”¨ JSON.stringify() æ–¹æ³•
åº”ç”¨åœºæ™¯</p>
<p>JSON å¯ä»¥å°† JavaScript å¯¹è±¡ä¸­è¡¨ç¤ºçš„ä¸€ç»„æ•°æ®è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œä¼ é€’è¿™ä¸²å­—ç¬¦ä¸²æ¯”ä¼ é€’ä¸€å¤§ç»„æ•°æ®è½»æ¾å¾—å¤šï¼Œåœ¨éœ€è¦çš„æ—¶å€™å†å°†å®ƒè¿˜åŸä¸ºæ”¯æŒçš„æ•°æ®æ ¼å¼ã€‚</p>
<ul class="pa0">
  
   <li class="list di">
     <a href="/tags/%E6%8A%80%E6%9C%AF" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">æŠ€æœ¯</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      <head>
    
    <script src="https://unpkg.com/@waline/client@v2/dist/waline.js"></script>
    <link
      rel="stylesheet"
      href="https://unpkg.com/@waline/client@v2/dist/waline.css"
    />
    
  </head>
  <body>
    
    <div id="waline"></div>
    <script>
      Waline.init({
        el: '#waline',
        serverURL: 'https://blog-comment-snowy.vercel.app',
      });
    </script>
    
  </body>
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://Jiaaming.github.io/" >
    &copy;  Jiaming 2023 
  </a>
    <div>
<div class="ananke-socials">
  
    <a href="https://running.jiaaming.cn" target="_blank" class="RunningğŸƒPage ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="RunningğŸƒPage link" rel="noopener" aria-label="follow on RunningğŸƒPageâ€”â€”Opens in a new window">
      
        RunningğŸƒPage
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div>
</div>
  </div>
  
</footer>

  </body>
</html>
